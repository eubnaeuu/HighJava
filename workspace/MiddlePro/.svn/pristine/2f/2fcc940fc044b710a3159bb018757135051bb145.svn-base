<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
			PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
			"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="member">

	<insert id="insertMember" parameterClass="kr.or.ddit.member.vo.MemberVO">

	INSERT INTO MEMBER
	(
	MEM_ID
	,MEM_PASS
	,MEM_NAME
	,MEM_NICKNAME
	,MEM_GENDER
	,MEM_BIR
	,MEM_ZIP
	,MEM_ADD1
	,MEM_ADD2
	,MEM_HP
	,MEM_MAIL
	,MEM_CYBERMONEY
	)
	VALUES
	(
	#memId#
	,#memPass#
	,#memName#
	,#memNickname#
	,#memGender#
	,#memBir#
	,#memZip#
	,#memAdd1#
	,#memAdd2#
	,#memHp#
	,#memMail#
	,#memCyberMoney#
	)
	
	</insert>
	
	<update id="updateMember" parameterClass="kr.or.ddit.member.vo.MemberVO">
		
		UPDATE MEMBER
         SET 
         MEM_GENDER = #memGender#
          <isNotEmpty property="memName">
          ,MEM_NAME = #memName#
          </isNotEmpty>
          <isNotEmpty property="memNickname">
          ,MEM_NICKNAME = #memNickname#
          </isNotEmpty>
          <isNotEmpty property="atchFileId">
          ,ATCH_FILE_ID = #atchFileId#
          </isNotEmpty>
	 	WHERE MEM_ID = #memId#
	</update>
	
	<delete id="deleteMember" parameterClass="String">
		DELETE 
		FROM MEMBER
		WHERE MEM_ID = #memId#
	</delete>
	
	<select id="getMemberAll" resultClass="kr.or.ddit.member.vo.MemberVO">
		SELECT
		MEM_ID				 memId
		,MEM_PASS 			 memPass
		,MEM_NAME 			memName
		,MEM_NICKNAME 		memNickname
		,MEM_GENDER 		memGender
		,MEM_BIR 			memBir
		,MEM_ZIP 			memZip
		,MEM_ADD1 			memAdd1
		,MEM_ADD2 			memAdd2
		,MEM_HP 			memHp
		,MEM_MAIL 			memMail
		,MEM_CYBERMONEY 	memCyberMoney
		 FROM MEMBER
	</select>
	
	<select id="getMember" parameterClass="String" resultClass="kr.or.ddit.member.vo.MemberVO">
		SELECT COUNT(*) AS CNT 
		FROM MYMEMBER WHERE MEM_ID = #memId#
	</select>
	
	<select id="getSearchMember" parameterClass="memVO" resultClass="kr.or.ddit.member.vo.MemberVO">
	 SELECT
		MEM_ID				 memId
		,MEM_PASS 			 memPass
		,MEM_NAME 			memName
		,MEM_NICKNAME 		memNickname
		,MEM_GENDER 		memGender
		,MEM_BIR 			memBir
		,MEM_ZIP 			memZip
		,MEM_ADD1 			memAdd1
		,MEM_ADD2 			memAdd2
		,MEM_HP 			memHp
		,MEM_MAIL 			memMail
		,MEM_CYBERMONEY 	memCyberMoney
		 FROM MEMBER
	 where 1=1
	 <isNotEmpty property="memId">
           AND MEM_ID = #memId#
	 </isNotEmpty>
	 <isNotEmpty property="memName">
           AND MEM_NAME = #memName#
	 </isNotEmpty>
	 <isNotEmpty property="memTel">
           and MEM_NICKNAME = #memTel#
	 </isNotEmpty>
	</select>
</sqlMap>			


