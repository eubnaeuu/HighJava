<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
<script>
	function checkIdPw(){
		
		var param = jQuery("#loginArea").serialize();
		var memId = null;
		
		$.ajax({
			url : "/DEworld/MemberServlet"
			,type : "post"
			,data : param
			,dataType : "json"
			,success : function(data){
				console.log(data);
				if(data[0] == null){
					alert("해당 사용자 정보가 존재하지 않거나 비밀번호가 일치하지 않습니다.");
				} else {
					sessionStorage.setItem("nowLogin", data[0].memId);
				}
			}
			,error : function(xhr){
				console.error(xhr);
				alert("알수없는 오류");
			}
		});
		
	}
	
	function openWindowPop(url, name){
	    var options = 'top=10, left=10, width=500, height=600, status=no, menubar=no, toolbar=no, resizable=no';
	    window.open(url, name, options);
	}
	
		//window.popup = 'findId.html';
</script>
<style>
body {font-family: Arial, Helvetica, sans-serif;}
form {border: 3px solid #f1f1f1;}

input[type=text], input[type=password] {
  width: 50%;
  padding: 12px 20px;
  margin: 8px 0;
  display: inline-block;
  border: 1px solid #ccc;
  box-sizing: border-box;
}

button {
  background-color: #4CAF50;
  color: white;
  padding: 14px 20px;
  margin: 8px 0;
  border: none;
  cursor: pointer;
  width: 50%;
}

button:hover {
  opacity: 0.8;
}

.cancelbtn {
  width: auto;
  padding: 10px 18px;
  background-color: #f44336;
}

.imgcontainer {
  text-align: center;
  margin: 24px 0 12px 0;
}

img.avatar {
  width: 40%;
  border-radius: 50%;
}

.container {
  padding: 16px;
}

span.psw {
  float: right;
  padding-top: 16px;
}

</style>
</head>
<body>

<h2>DEWorld</h2>

<form method="post" name="loginArea" id="loginArea">
	  <div class="container">
  
    <label for="memId"><b>ID</b></label>
    <input type="text" placeholder="ID를 입력해주세요" name="memId" id="memId"  required>

    <label for="memPass"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="memPass" id="memPass" required>
        
    <button type="button" onclick="checkIdPw()">Login</button>
    <button type="button" onclick="">회원가입</button>
    <button type="button" onclick="openWindowPop('findId.html', 'popup')">아이디 찾기</button>
    <button type="button" onclick="openWindowPop('findPw.html', 'popup')">비밀번호 찾기</button>
  </div>
</form>

</body>
</html>
