<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap
	PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN"
	"http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="notice">

	<!-- 추가 -->
	<insert id="createNotice" parameterClass="kr.or.ddit.notice.vo.NoticeVO">
		INSERT INTO NOTICE(
		NOTICE_NO
		,ADMIN_ID
		,NOTICE_TITLE
		,NOTICE_CONTENT
		,NOTICE_DATE
		)VALUES(
		#noticeNo#
		#adminId#
		#noticeTitle#
		#noticeContent#
		#noticeDate#
		)
	</insert>
	
	<!--  조회 -->
	<select id="searchNotice" parameterClass="int"
	resultClass="kr.or.ddit.notice.vo.NoticeVO">
		SELECT NOTICE_NO       noticeNo
			,ADMIN_ID		   adminId
			,NOTICE_TITLE      noticeTitle
			,NOTICE_CONTENT    noticeContent
			,TO_CHAR(NOTICE_DATE,'yyyy-mm-dd')       noticeDate
		FROM NOTICE
		WHERE NOTICE_NO = #noticeNo#
	</select>
	
	<!-- 여러개조회 -->
	<select id="searchNoticeList" parameterClass="kr.or.ddit.notice.vo.NoticeVO"
	resultClass="kr.or.ddit.notice.vo.NoticeVO">
		SELECT NOTICE_NO noticeNo
		,ADMIN_ID		   adminId
		,NOTICE_TITLE      noticeTitle
		,TO_CHAR(NOTICE_DATE,'yyyy-mm-dd')       noticeDate
		FROM NOTICE
	</select>
	<!-- 수정 -->
	<update id="updateNotice" parameterClass="String">
		UPDATE NOTICE
		SET ADMIN_ID =#adminId#
		,NOTICE_TITLE = #noticeTitle#
		,NOTICE_CONTENT= #noticeContent#
		,NOTICE_DATE= #noticeDate#
		WHERE NOTICE_NO = #noticeNo#
	</update>
	<!-- 삭제 -->
	<delete id="deleteNotice" parameterClass="int">
		DELETE FROM NOTICE
		WHERE NOTICE_NO = #noticeNo#
	</delete>
	<!-- 여러개 삭제 -->
	<delete id="deleteNoticeList" parameterClass="kr.or.ddit.notice.vo.NoticeVO">
	DELETE FROM NOTICE
	WHERE NOTICE_NO
		<iterate property="noticeNoArr" prepend="IN" open="(" close=")" conjunction=",">
		#noticeNoArr[]#
		</iterate>
	</delete>
	
</sqlMap>